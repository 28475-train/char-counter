<!DOCTYPE html>
<html lang="ja" data-view="" data-ads="true">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆ è¡Œæ•°è¨ˆæ¸¬ãƒ„ãƒ¼ãƒ« ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ©Ÿèƒ½ä»˜ã</title>
<meta name="description" content="ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æ–‡å­—æ•°ã¨è¡Œæ•°ã‚’å³åº§ã«è¨ˆæ¸¬ã™ã‚‹ç„¡æ–™ã®æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆãƒ„ãƒ¼ãƒ«ã€‚Twitter/SNSå‘ã‘ã«æ–‡å­—æ•°åˆ¶é™ã‚‚è¨­å®šå¯èƒ½ã€‚TXT, Markdown, CSVå½¢å¼ã§ã®ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ã«å¯¾å¿œã€‚">
<link rel="stylesheet" href="style.css">
<link rel="canonical" href="https://28475-train.github.io/char-counter/counter.html">
<meta property="og:title" content="ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã€‘æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆãƒ»ä¿å­˜ãƒ„ãƒ¼ãƒ«">
<meta property="og:description" content="ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æ–‡å­—æ•°ã¨è¡Œæ•°ã‚’å³åº§ã«è¨ˆæ¸¬ã™ã‚‹ç„¡æ–™ãƒ„ãƒ¼ãƒ«ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ©Ÿèƒ½ä»˜ãã€‚">
<meta property="og:type" content="website">
<meta property="og:url" content="https://28475-train.github.io/char-counter/counter.html">
<meta property="og:image" content="https://28475-train.github.io/char-counter/images/tool_image.png">
<meta property="og:site_name" content="æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆãƒ„ãƒ¼ãƒ«">
<meta name="twitter:card" content="summary_large_image">
</head>
<body data-theme="light_green">
<script>
// ã‚¢ã‚¯ã‚»ã‚¹ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®GAS URL
const ACCESS_GAS_URL = "https://script.google.com/macros/s/AKfycbwALCjWmxSF-IzTP3bBp_wdlo-5k_Wuag1dH0D3cuUg5pYqLf6E2cf2L1NcIY476DqyHw/exec";
// ãŠçŸ¥ã‚‰ã›ç”¨GAS URL
const NOTICE_GAS_URL = "https://script.google.com/macros/s/AKfycbxmgrljU-iNc8kpe7uZ3fDIAYGjE9JNq5ENi8wG6w7mPcBbg5F601rosrJ4ZNVUOUg/exec"; 

// ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã®è¨­å®šã®é©ç”¨
const savedTheme = localStorage.getItem('theme');
if (savedTheme) {
    document.body.setAttribute('data-theme', savedTheme);
}
const savedFontSize = localStorage.getItem('fontSize');
if (savedFontSize) {
    document.body.setAttribute('data-font', savedFontSize);
}
// åºƒå‘Šéè¡¨ç¤ºè¨­å®šã®é©ç”¨ (å¾©æ—§)
const hideAds = localStorage.getItem('hideAds') === 'true';
if (hideAds) {
    document.body.setAttribute('data-ads', 'false');
}

// åŒæ„ãƒã‚§ãƒƒã‚¯ (æ—¢å­˜)
if(localStorage.getItem('agreed')!=='true'){
  location.href='index.html';
}
</script>

<header class="header">
    <a href="counter.html" class="header-title">ğŸ“ æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆ ãƒ„ãƒ¼ãƒ«</a>
    <nav class="header-nav">
        <a href="roulette.html">ğŸ² ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆ</a> 
        <a href="settings.html">âš™ è¨­å®š</a>
        <a href="help.html">ãƒ˜ãƒ«ãƒ—</a>
        <a href="about.html">åˆ¶ä½œè€…</a>
    </nav>
</header>
<div class="content-wrapper">

<h1>æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆ ä¿å­˜ãƒ„ãƒ¼ãƒ«</h1>

<div id="accessCounterContainer" style="text-align:right; font-size:0.9em; margin-bottom:16px;">
  è¨ªå•å›æ•°: <span id="accessCounter" style="font-weight:bold;">èª­ã¿è¾¼ã¿ä¸­...</span>
</div>
<div class="notice">
  <strong>ãŠçŸ¥ã‚‰ã›</strong>
  <div id="noticeList">èª­ã¿è¾¼ã¿ä¸­...</div>
</div>
<div class="card">
<div class="controls">
  ä¸Šé™æ–‡å­—æ•°ï¼š
  <button onclick="setLimit(280)">280</button>
  <button onclick="setLimit(500)">500</button>
  <button onclick="setLimit(1000)">1000</button>
  ã‚«ã‚¹ã‚¿ãƒ 
  <input type="number" id="customLimit" min="1" style="width:80px">
  <button onclick="setCustom()">è¨­å®š</button>
</div>
<textarea id="text" placeholder="ã“ã“ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..."></textarea>
<div class="info">
  <p>æ–‡å­—æ•°: <span id="char">0</span></p>
  <p>è¡Œæ•°: <span id="line">1</span></p>
  <p>æ®‹ã‚Šæ–‡å­—æ•°: <span id="remain">280</span></p>

  <hr style="margin: 10px 0; border: none; border-top: 1px dashed var(--border);">
  <p style="font-size: 0.9em;">
      è©³ç´°:
      å…¨è§’ <span id="fullWidthCount">0</span>å­— / 
      åŠè§’ <span id="halfWidthCount">0</span>å­— / 
      <span style="font-weight: bold;">æ¨å®šãƒã‚¤ãƒˆæ•° <span id="byteCount">0</span> bytes</span>
  </p>
</div>
<div class="controls">
  ä¿å­˜å½¢å¼ï¼š
  <select id="format">
    <option value="txt">TXT</option>
    <option value="md">Markdown</option>
    <option value="csv">CSV</option>
  </select>
  <button class="save-btn" onclick="download()">ä¿å­˜</button>
  <button class="clear-btn" onclick="clearText()">ã™ã¹ã¦ã‚¯ãƒªã‚¢</button>
</div>
</div>
<div id="ad-area">
<script src="https://adm.shinobi.jp/o/908d65c8b7bcdd909305dd25f407426f"></script>
</div>
</div>

<script>
// === ã‚¢ã‚¯ã‚»ã‚¹ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®èª­ã¿è¾¼ã¿ (æ—¢å­˜) ===
const accessCounterElement = document.getElementById('accessCounter');
const accessCounterContainer = document.getElementById('accessCounterContainer');
const DURATION = 1500; 

const HIDE_COUNTER = localStorage.getItem('hideAccessCounter') === 'true'; 
const IGNORE_ANIMATION = localStorage.getItem('ignoreAnimation') === 'true'; 

if (HIDE_COUNTER) {
    if (accessCounterContainer) {
        accessCounterContainer.style.display = 'none';
    }
}

function animateCounter(targetCount) { /* æ—¢å­˜ã® animateCounter é–¢æ•° */ }
function fetchAccessCount() { /* æ—¢å­˜ã® fetchAccessCount é–¢æ•° */ }

// === æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆãƒ­ã‚¸ãƒƒã‚¯ (æ—¢å­˜) ===
const textarea = document.getElementById('text');
const charDisplay = document.getElementById('char');
// (ãã®ä»–ã®DOMè¦ç´ ã¨æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆãƒ­ã‚¸ãƒƒã‚¯ã€initializeCounteré–¢æ•°ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰/ã‚¯ãƒªã‚¢é–¢æ•°ãªã©ã¯çœç•¥ - æ—¢å­˜é€šã‚Š)

// æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆé–¢æ•°ã«ã‚¹ãƒšãƒ¼ã‚¹ç„¡è¦–è¨­å®šã‚’åæ˜ 
function updateCount() {
    let text = textarea.value;
    const ignoreSpaces = localStorage.getItem('ignoreSpaces') === 'true'; // è¨­å®šã‚’èª­ã¿è¾¼ã¿
    
    if (ignoreSpaces) {
        text = text.replace(/[\s\r\n\t]/g, ''); // ã‚¹ãƒšãƒ¼ã‚¹ã€æ”¹è¡Œã€ã‚¿ãƒ–ã‚’å‰Šé™¤
    }

    // (æ–‡å­—æ•°ã€è¡Œæ•°ã€æ®‹ã‚Šæ–‡å­—æ•°ã€ãƒã‚¤ãƒˆæ•°ãªã©ã®è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã¯çœç•¥)
    // charDisplay.textContent = text.length;
}
textarea.addEventListener('input', updateCount);
window.addEventListener('load', fetchAccessCount);

// åºƒå‘Šã‚¨ãƒªã‚¢ã®åˆ¶å¾¡ (CSSã§body[data-ads="false"]ã®ã¨ãã«éè¡¨ç¤ºã«ã™ã‚‹ã®ãŒæœ›ã¾ã—ã„)
const adArea = document.getElementById('ad-area');
if (hideAds && adArea) {
    adArea.style.display = 'none';
}
</script>
</body>
</html>
