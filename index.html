<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ToolBox | çµ±åˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å®Œå…¨ç‰ˆ</title>
    
    <style>
        :root {
            --bg: #0a0a0a;
            --card: #161616;
            --text: #ffffff;
            --text-sub: #a0a0a0;
            --accent: #ff3b3b;
            --border: #2a2a2a;
            --success: #28a745;
            --info: #007bff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        body.large-text { font-size: 1.2rem; }

        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(12px);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid var(--border);
            padding: 15px 20px;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-text {
            font-size: 1.6rem;
            font-weight: 900;
            color: var(--text);
            text-decoration: none;
            letter-spacing: -1px;
            cursor: pointer;
        }

        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeInUp 0.7s cubic-bezier(0.22, 1, 0.36, 1) forwards;
        }

        @keyframes pulseBadge {
            0% { opacity: 1; }
            50% { opacity: 0.4; }
            100% { opacity: 1; }
        }

        .new-badge {
            background: var(--accent);
            color: white;
            font-size: 0.6rem;
            padding: 2px 8px;
            border-radius: 4px;
            margin-right: 8px;
            font-weight: bold;
            animation: pulseBadge 2s infinite;
        }

        /* ãŠçŸ¥ã‚‰ã›ã‚¨ãƒªã‚¢ */
        .info-container { margin-bottom: 40px; }
        .info-list {
            background: var(--card);
            border-radius: 24px;
            padding: 10px 20px;
            border: 1px solid var(--border);
        }
        .info-item {
            display: flex;
            flex-direction: column;
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
        }
        .info-item:last-child { border-bottom: none; }
        .info-date { font-size: 0.75rem; color: var(--text-sub); font-weight: bold; margin-bottom: 4px; }
        .info-content { font-size: 0.9rem; font-weight: 500; }

        /* ãƒ„ãƒ¼ãƒ«ã‚°ãƒªãƒƒãƒ‰ */
        .tool-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 40px;
        }
        .menu-btn-tile {
            background: var(--card);
            border: 1px solid var(--border);
            padding: 30px 15px;
            border-radius: 28px;
            text-decoration: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        .menu-btn-tile:active { transform: scale(0.92); background: var(--border); }
        .menu-icon { font-size: 2.2rem; margin-bottom: 12px; }
        .menu-label { color: var(--text); font-weight: 800; font-size: 0.85rem; }

        /* ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—/ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
        #consent-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); display: flex; align-items: center;
            justify-content: center; z-index: 9999; backdrop-filter: blur(15px);
            display: none;
        }
        .consent-card {
            background: var(--bg); width: 90%; max-width: 400px; padding: 40px 30px;
            border-radius: 35px; border: 2px solid var(--accent); text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
        }

        /* ãƒ•ã‚©ãƒ¼ãƒ éƒ¨å“ */
        .btn {
            width: 100%; padding: 18px; border-radius: 50px; border: none;
            font-weight: 900; font-size: 1rem; cursor: pointer; transition: 0.3s;
            display: inline-block; text-align: center;
        }
        .btn-accent { background: var(--accent); color: white; }
        .btn-disabled { opacity: 0.5; cursor: not-allowed; }

        #page-top-btn {
            position: fixed; right: 20px; bottom: 30px;
            width: 55px; height: 55px; background: var(--accent);
            color: white; border-radius: 50%; display: flex;
            align-items: center; justify-content: center;
            cursor: pointer; opacity: 0; visibility: hidden; transition: 0.3s;
            z-index: 100; font-weight: bold; border: 2px solid white;
        }
        #page-top-btn.show { opacity: 1; visibility: visible; }
    </style>
</head>
<body>

    <div id="consent-overlay">
        <div class="consent-card">
            <h2 style="color:var(--accent); margin-bottom:15px; font-weight:900;">SECURITY CHECK</h2>
            <p style="font-size:0.85rem; color:var(--text-sub); margin-bottom:30px; text-align:left; background:var(--card); padding:20px; border-radius:20px;">
                å½“ã‚·ã‚¹ãƒ†ãƒ ã€ŒToolBoxã€ã®åˆ©ç”¨ã«ã¯åŒæ„ãŒå¿…è¦ã§ã™ã€‚ãƒ‡ãƒ¼ã‚¿ã¯ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«ã¦ä¸€å…ƒç®¡ç†ã•ã‚Œã¾ã™ã€‚
            </p>
            <button class="btn btn-accent" onclick="acceptConsent()">åŒæ„ã—ã¦ã‚·ã‚¹ãƒ†ãƒ ã‚’é–‹å§‹</button>
        </div>
    </div>

    <header>
        <div class="header-container">
            <div id="logo-trigger" class="logo-text">ToolBox</div>
            <div id="connection-status" style="font-size:0.6rem; color:var(--success); font-weight:bold; letter-spacing:1px;">â— DATABASE_CONNECTED</div>
        </div>
    </header>

    <main class="container">
        <section class="info-container">
            <h2 id="text-trigger" style="font-size:1.2rem; margin-bottom:20px; border-left:6px solid var(--accent); padding-left:15px; font-weight:900; cursor:pointer;">ãŠçŸ¥ã‚‰ã›</h2>
            <div class="info-list">
                <div class="info-item fade-in" style="animation-delay: 0.1s;">
                    <div class="info-date">2025/12/21</div>
                    <div class="info-content"><span class="new-badge">UPDATE</span> ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆåŒæœŸèªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…ã€‚</div>
                </div>
                <div class="info-item fade-in" style="animation-delay: 0.3s;">
                    <div class="info-date">2025/12/21</div>
                    <div class="info-content"><span class="new-badge">NEW</span> ãƒ¡ãƒ«ãƒã‚¬é…ä¿¡ãƒ»ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ã®è‡ªä½œã€‚</div>
                </div>
            </div>
        </section>

        <section>
            <h2 style="font-size:1.2rem; margin-bottom:20px; border-left:6px solid var(--info); padding-left:15px; font-weight:900;">ãƒ„ãƒ¼ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h2>
            <div class="tool-grid">
                <a href="roulette.html" class="menu-btn-tile">
                    <span class="menu-icon">ğŸ²</span><span class="menu-label">ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆ</span>
                </a>
                <a href="blog.html" class="menu-btn-tile">
                    <span class="menu-icon">ğŸ“</span><span class="menu-label">æ¥­å‹™æ—¥èªŒ</span>
                </a>
                <a href="counter.html" class="menu-btn-tile">
                    <span class="menu-icon">ğŸ”¢</span><span class="menu-label">ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼</span>
                </a>
                <a href="photo-edit.html" class="menu-btn-tile">
                    <span class="menu-icon">ğŸ“¸</span><span class="menu-label">å†™çœŸè£œæ­£</span>
                </a>
                <a href="admin.html" class="menu-btn-tile" style="border-color:var(--success); background:rgba(40,167,69,0.05);">
                    <span class="menu-icon">âš™ï¸</span><span class="menu-label">ç®¡ç†ãƒ‘ãƒãƒ«</span>
                </a>
                <a href="login.html" class="menu-btn-tile" style="border-color:var(--info); background:rgba(0,123,255,0.05);">
                    <span class="menu-icon">ğŸ‘¤</span><span class="menu-label">ãƒ­ã‚°ã‚¤ãƒ³/ç™»éŒ²</span>
                </a>
                <a href="contact.html" class="menu-btn-tile" style="grid-column: span 2; padding: 20px; border-style: dashed;">
                    <span class="menu-label">âœ‰ï¸ ãŠå•ã„åˆã‚ã›ãƒ»ãƒ¡ãƒ«ãƒã‚¬ç™»éŒ²</span>
                </a>
            </div>
        </section>

        <section style="background:var(--card); padding:30px; border-radius:30px; border:1px solid var(--border); margin-bottom:60px;">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <div>
                    <div style="font-weight:900; font-size:1rem;">ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£</div>
                    <div style="font-size:0.7rem; color:var(--text-sub);">æ–‡å­—ã‚’å¤§ããè¡¨ç¤ºã—ã¾ã™</div>
                </div>
                <input type="checkbox" id="a11y-toggle" onchange="updateA11y()" style="width:30px; height:30px; cursor:pointer;">
            </div>
        </section>

        <footer style="text-align:center; padding-bottom:40px;">
            <p style="font-size:0.7rem; color:var(--text-sub); letter-spacing:2px;">&copy; 2025 SHINONOI PROJECT / ToolBox</p>
        </footer>
    </main>

    <div id="page-top-btn" onclick="window.scrollTo({top:0, behavior:'smooth'})">â–²</div>

    <script>
        const CONFIG = {
            GAS_URL: "https://script.google.com/macros/s/AKfycbxn0i-8o43KNHBcEcAdpwJmeaEQoC6YSwCPR9zhIXFNIY64FimgSFbX3XKABbHX7I_LbQ/exec",
            CONSENT_KEY: "toolbox_consent_v2",
            A11Y_KEY: "toolbox_a11y_v2"
        };

        // åˆæœŸåŒ–å‡¦ç†
        function init() {
            // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒã‚§ãƒƒã‚¯
            if (!localStorage.getItem(CONFIG.CONSENT_KEY)) {
                document.getElementById('consent-overlay').style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }

            // æ–‡å­—ã‚µã‚¤ã‚ºè¨­å®šå¾©å…ƒ
            if (localStorage.getItem(CONFIG.A11Y_KEY) === 'true') {
                document.getElementById('a11y-toggle').checked = true;
                document.body.classList.add('large-text');
            }

            // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç›£è¦–
            window.addEventListener('scroll', () => {
                const topBtn = document.getElementById('page-top-btn');
                if (window.pageYOffset > 400) topBtn.classList.add('show');
                else topBtn.classList.remove('show');
            });

            // éš ã—ãƒˆãƒªã‚¬ãƒ¼è¨­å®š
            setupSecretTrigger('logo-trigger', 'calc.html');
            setupSecretTrigger('text-trigger', 'secret.html');
        }

        // åŒæ„ãƒœã‚¿ãƒ³
        function acceptConsent() {
            localStorage.setItem(CONFIG.CONSENT_KEY, 'true');
            document.getElementById('consent-overlay').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('consent-overlay').style.display = 'none';
                document.body.style.overflow = 'auto';
            }, 300);
        }

        // æ–‡å­—ã‚µã‚¤ã‚ºå¤‰æ›´
        function updateA11y() {
            const isChecked = document.getElementById('a11y-toggle').checked;
            localStorage.setItem(CONFIG.A11Y_KEY, isChecked);
            document.body.classList.toggle('large-text', isChecked);
        }

        // 3é€£ã‚¿ãƒƒãƒ—éš ã—æ©Ÿèƒ½
        function setupSecretTrigger(elementId, targetUrl) {
            let taps = 0;
            let timer;
            document.getElementById(elementId).addEventListener('click', () => {
                taps++;
                clearTimeout(timer);
                timer = setTimeout(() => { taps = 0; }, 2000);
                if (taps === 3) location.href = targetUrl;
            });
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«å®Ÿè¡Œ
        window.onload = init;
    </script>
</body>
</html>
