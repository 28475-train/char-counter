<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>会員限定ツール</title>
    <link rel="stylesheet" href="style.css">
</head>
<body data-theme="light_green">
    <header style="text-align:right;"><div id="user-status-area"></div></header>
    <main style="max-width:500px; margin:auto; text-align:center;">
        <h1>💎 履歴付き計算機</h1>
        <div class="member-card">
            <input type="text" id="calc-in" style="width:70%; padding:10px;">
            <button onclick="doCalc()">計算</button>
            <h2 id="calc-res">結果: -</h2>
        </div>
        <ul id="h-list" style="text-align:left;"></ul>
        <a href="index.html">戻る</a>
    </main>
    <script src="script.js"></script>
    <script>
        function doCalc(){
            const v = document.getElementById('calc-in').value;
            const r = eval(v); // 簡易的
            document.getElementById('calc-res').innerText = "結果: " + r;
            let h = JSON.parse(localStorage.getItem('h') || '[]');
            h.unshift(v + " = " + r);
            localStorage.setItem('h', JSON.stringify(h.slice(0,5)));
            showH();
        }
        function showH(){
            const l = document.getElementById('h-list');
            const h = JSON.parse(localStorage.getItem('h') || '[]');
            l.innerHTML = h.map(x => `<li>${x}</li>`).join('');
        }
        showH();
    </script>
</body>
</html>
