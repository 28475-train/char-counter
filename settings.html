<!DOCTYPE html>
<html lang="ja" data-ads="true">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã€PCç‰ˆã€‘è¨­å®š | ãƒ„ãƒ¼ãƒ«</title>
<link rel="stylesheet" href="style.css">
<style>
/* PCç‰ˆã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å¹…ã‚’è¨­å®š */
body{ max-width: 720px; margin: 0 auto; padding: 0; }

.settings-group {
    background: var(--card);
    padding: 20px;
    border-radius: 8px;
    box-shadow: var(--shadow);
    margin-bottom: 25px;
    border: 1px solid var(--border);
}

.settings-group h2 {
    margin-top: 0;
    border-bottom: 2px solid var(--accent-light);
    padding-bottom: 5px;
    margin-bottom: 15px;
}

.setting-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 0;
    border-bottom: 1px solid var(--border);
}
.setting-item:last-child {
    border-bottom: none;
}

.setting-label {
    font-weight: bold;
    color: var(--text-color);
}

.setting-control select, 
.setting-control input[type="date"],
.setting-control input[type="time"] {
    padding: 8px;
    border: 1px solid var(--border);
    border-radius: 4px;
    background-color: var(--background);
    color: var(--text-color);
    margin-left: 10px;
}

.setting-control button {
    padding: 8px 15px;
    background-color: var(--accent);
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

.message {
    margin-top: 15px;
    padding: 10px;
    border-radius: 4px;
    background-color: #e6ffe6;
    color: #388E3C;
    font-weight: bold;
    display: none;
}
</style>
</head>
<body data-theme="light_green">
<script>
// --- ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ± ---
const APP_VERSION = "v1.2.0"; 
// ----------------------
const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
if (isMobile) { location.href = 'SP/settings.html'; }

function toggleMenu() { document.getElementById('sideNav').classList.toggle('open'); }

// â˜…â˜…â˜… æ©Ÿèƒ½å¾©æ—§: ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆãƒ­ã‚¸ãƒƒã‚¯ â˜…â˜…â˜…
function applyTheme(theme) {
    document.body.setAttribute('data-theme', theme);
    localStorage.setItem('selectedTheme', theme);
}

// â˜…â˜…â˜… æ©Ÿèƒ½å¾©æ—§: ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆç›®æ¨™è¨­å®šãƒ­ã‚¸ãƒƒã‚¯ â˜…â˜…â˜…
function saveRouletteSettings() {
    const targetDate = document.getElementById('targetDate').value;
    const targetTime = document.getElementById('targetTime').value;
    const rouletteItems = document.getElementById('rouletteItems').value;

    if (!targetDate || !targetTime) {
        alert("ç›®æ¨™æ—¥æ™‚ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚");
        return;
    }

    // æ—¥ä»˜ã¨æ™‚é–“ã‚’çµåˆã—ã¦Dateã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
    const targetDateTimeString = targetDate + "T" + targetTime + ":00";
    const targetDateTime = new Date(targetDateTimeString);

    // LocalStorageã«ä¿å­˜
    localStorage.setItem('rouletteTargetDate', targetDateTime.toISOString());
    localStorage.setItem('rouletteItems', rouletteItems);
    
    showSuccessMessage("ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã®è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸã€‚");
}

function showSuccessMessage(message) {
    const msgElement = document.getElementById('successMessage');
    msgElement.textContent = message;
    msgElement.style.display = 'block';
    setTimeout(() => {
        msgElement.style.display = 'none';
    }, 3000);
}

window.onload = function() { 
    document.getElementById('appVersionDisplay').textContent = APP_VERSION; 

    // ãƒ†ãƒ¼ãƒã®ãƒ­ãƒ¼ãƒ‰ã¨ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®š
    const savedTheme = localStorage.getItem('selectedTheme') || 'light_green';
    document.getElementById('themeSelector').value = savedTheme;
    applyTheme(savedTheme);

    document.getElementById('themeSelector').addEventListener('change', (e) => {
        applyTheme(e.target.value);
    });

    // ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆè¨­å®šã®ãƒ­ãƒ¼ãƒ‰ã¨ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¨­å®š
    document.getElementById('saveRouletteButton').addEventListener('click', saveRouletteSettings);

    // æ—¢å­˜ã®ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆè¨­å®šã‚’ãƒ­ãƒ¼ãƒ‰
    const savedDate = localStorage.getItem('rouletteTargetDate');
    if (savedDate) {
        const dateObj = new Date(savedDate);
        // ISOå½¢å¼ã® yyyy-mm-dd
        document.getElementById('targetDate').value = dateObj.toISOString().slice(0, 10);
        // ISOå½¢å¼ã® HH:MM
        document.getElementById('targetTime').value = dateObj.toTimeString().slice(0, 5); 
    }
    const savedItems = localStorage.getItem('rouletteItems') || "æˆåŠŸ,å¤±æ•—,å¤§æˆåŠŸ,ã‚„ã‚Šç›´ã—";
    document.getElementById('rouletteItems').value = savedItems;
}
</script>

<div class="main-content-area">
    <div style="max-width: 720px; margin: 0 auto;">

        <header class="header">
            <div class="menu-toggle" onclick="toggleMenu()">â˜°</div>
            <a href="counter.html" class="header-title">è¨­å®š (PCç‰ˆ)</a>
        </header>

        <div class="top-ad-header">
            <div id="ad-area-top-pc">
                <script src="https://adm.shinobi.jp/o/b4938a5bb7d245347d3a4f3bf5b38328"></script>
            </div>
        </div>

        <nav class="side-nav" id="sideNav">
            <a href="counter.html">ğŸ“ æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆ</a> 
            <a href="roulette.html">ğŸ² ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆ</a> 
            <a href="settings.html" class="active-tab">âš™ è¨­å®š</a>
            <a href="help.html">ãƒ˜ãƒ«ãƒ—</a>
            <a href="about.html">åˆ¶ä½œè€…</a>
        </nav>
        
        <div class="content-wrapper">

            <h1>è¨­å®š</h1>
            
            <div id="successMessage" class="message">è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸã€‚</div>

            <div class="settings-group">
                <h2>ãƒ‡ã‚¶ã‚¤ãƒ³è¨­å®š</h2>
                
                <div class="setting-item">
                    <span class="setting-label">ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼</span>
                    <div class="setting-control">
                        <select id="themeSelector">
                            <option value="light_green">ãƒ©ã‚¤ãƒˆã‚°ãƒªãƒ¼ãƒ³ (æ¨™æº–)</option>
                            </select>
                    </div>
                </div>

                <div class="setting-item">
                    <span class="setting-label">ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š</span>
                    <div class="setting-control">
                        <p style="font-size: 0.9em; color: var(--text-soft);">æ—¥æœ¬èªãƒ»è‹±èªã«æœ€é©ãªãƒ•ã‚©ãƒ³ãƒˆã‚’è‡ªå‹•é©ç”¨ã—ã¦ã„ã¾ã™ã€‚</p>
                    </div>
                </div>

            </div>

            <div class="settings-group">
                <h2>ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆãƒ»ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ç›®æ¨™è¨­å®š</h2>
                
                <div class="setting-item">
                    <span class="setting-label">ç›®æ¨™æ—¥ä»˜</span>
                    <div class="setting-control">
                        <input type="date" id="targetDate">
                    </div>
                </div>

                <div class="setting-item">
                    <span class="setting-label">ç›®æ¨™æ™‚åˆ»</span>
                    <div class="setting-control">
                        <input type="time" id="targetTime">
                    </div>
                </div>

                <div class="setting-item" style="flex-direction: column; align-items: flex-start;">
                    <span class="setting-label" style="margin-bottom: 5px;">ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆé …ç›® (ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Š)</span>
                    <textarea id="rouletteItems" style="width: 100%; min-height: 80px; font-size: 14px;"></textarea>
                    <p style="font-size: 0.8em; color: var(--text-soft); margin-top: 5px;">ä¾‹: å¤§æˆåŠŸ,æˆåŠŸ,å¤±æ•—</p>
                </div>

                <div style="text-align: right; margin-top: 15px;">
                    <button id="saveRouletteButton">è¨­å®šã‚’ä¿å­˜</button>
                </div>
            </div>

            <div class="settings-group">
                <h2>ãƒ‡ãƒ¼ã‚¿ç®¡ç†</h2>
                <div class="setting-item">
                    <span class="setting-label">ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ã®ã‚¯ãƒªã‚¢</span>
                    <div class="setting-control">
                        <button onclick="if(confirm('å…¨ã¦ã®ãƒ­ãƒ¼ã‚«ãƒ«è¨­å®šã¨ä¿å­˜ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ')) { localStorage.clear(); window.location.reload(); }">ãƒ‡ãƒ¼ã‚¿å‰Šé™¤</button>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 30px; font-size: 0.8em; color: var(--text-soft);">
                <p>Version <span id="appVersionDisplay"></span></p>
            </div>
            
        </div>
    </div>
</div>

<div class="bottom-ad-footer">
    <div id="ad-area-bottom-pc">
        <script src="https://adm.shinobi.jp/o/b4938a5bb7d245347d3a4f3bf5b38328"></script>
    </div>
</div>

<footer class="footer" style="text-align:center; padding: 20px 0; font-size: 0.8em; color: var(--text-soft);">
    <p>Version <span id="appVersionDisplay"></span></p>
</footer>
</body>
</html>
