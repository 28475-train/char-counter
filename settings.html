<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>設定 | 文字数カウントツール</title>
<link rel="stylesheet" href="style.css">
<style>
/* settings.html専用のスタイル */
body{max-width:720px;margin:30px auto;padding:20px;}
.setting-group{
  background:var(--card);
  border-radius:14px;
  padding:20px;
  margin-bottom:30px;
  border:1px solid var(--border);
}
.setting-group h2{
  color: var(--accent);
  border-bottom: 1px dashed var(--border);
  padding-bottom: 10px;
  margin-top: 0;
}
.setting-item{
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 0;
  border-bottom: 1px dotted var(--border-soft);
}
.setting-item:last-child{
  border-bottom: none;
}
.theme-options button{
  padding: 8px 12px;
  border: 1px solid var(--border);
  border-radius: 6px;
  cursor: pointer;
  margin-right: 8px;
  font-size: 0.9em;
  background-color: var(--background); /* テーマ色を反映 */
  color: var(--text); /* テーマ色を反映 */
}
.theme-options button:hover {
    border-color: var(--accent);
}

.link-list{
  list-style: none;
  padding: 0;
}
.link-list li a{
  display: block;
  padding: 10px 0;
  color: var(--link);
  text-decoration: none;
  border-bottom: 1px dotted var(--border-soft);
}
.link-list li:last-child a{
  border-bottom: none;
}
</style>
</head>
<body data-theme="light_green">
<h1>設定</h1>

<div class="setting-group">
    <h2>デザインテーマ</h2>
    <div class="setting-item">
        <label>テーマを選択</label>
        <div class="theme-options">
            <button onclick="setTheme('light_green')">Light Green</button>
            <button onclick="setTheme('dark_blue')">Dark Blue</button>
            <button onclick="setTheme('simple_white')">Simple White</button>
        </div>
    </div>
</div>

<div class="setting-group">
    <h2>カウント設定</h2>
    <div class="setting-item">
        <label for="ignoreSpaces">スペース（空白）をカウントしない</label>
        <input type="checkbox" id="ignoreSpaces">
    </div>
</div>


<div class="setting-group">
    <h2>入力エリア表示設定</h2>
    <div class="setting-item">
        <label for="fontSize">フォントサイズ変更</label>
        <select id="fontSize">
            <option value="small">小 (14px)</option>
            <option value="medium">中 (16px)</option>
            <option value="large">大 (18px)</option>
        </select>
    </div>
    <div class="setting-item">
        <label for="showAds">広告の表示</label>
        <input type="checkbox" id="showAds">
    </div>
    <div class="setting-item">
        <label for="viewMode">表示モードを簡素化</label>
        <input type="checkbox" id="viewMode">
    </div>
</div>

<div class="setting-group">
    <h2>その他</h2>
    <ul class="link-list">
        <li><a href="help.html">ツールの使い方・ヘルプ</a></li>
        <li><a href="terms.html">利用規約</a></li>
        <li><a href="terms.html#privacy">プライバシーポリシー</a></li>
        <li><a href="about.html">制作者紹介 / アップデート履歴</a></li>
    </ul>
</div>

<p style="text-align: center; margin-top: 30px;"><a href="counter.html">ツール画面に戻る</a></p>

<script>
/* ===== テーマ設定の適用と変更 ===== */
const body = document.body;
const savedTheme = localStorage.getItem('theme') || 'light_green';
body.setAttribute('data-theme', savedTheme);

function setTheme(theme) {
    body.setAttribute('data-theme', theme);
    localStorage.setItem('theme', theme);
}

/* ===== 広告設定の処理 ===== */
const showAdsCheckbox = document.getElementById('showAds');
const savedAds = localStorage.getItem('showAds');

if (savedAds === null || savedAds === 'true') {
    showAdsCheckbox.checked = true;
} else {
    showAdsCheckbox.checked = false;
}

showAdsCheckbox.addEventListener('change', function() {
    localStorage.setItem('showAds', this.checked);
    alert('広告設定を保存しました。ツール画面に戻ると反映されます。');
});

/* ===== 簡素化表示モードの処理 ===== */
const viewModeCheckbox = document.getElementById('viewMode');
const savedViewMode = localStorage.getItem('viewMode');

if (savedViewMode === 'minimal') {
    viewModeCheckbox.checked = true;
} else {
    viewModeCheckbox.checked = false;
}

viewModeCheckbox.addEventListener('change', function() {
    const mode = this.checked ? 'minimal' : 'full';
    localStorage.setItem('viewMode', mode);
    alert('表示モード設定を保存しました。ツール画面に戻ると反映されます。');
});


/* ===== フォントサイズ設定の処理 ===== */
const fontSizeSelect = document.getElementById('fontSize');
const savedFontSize = localStorage.getItem('fontSize') || 'medium';
fontSizeSelect.value = savedFontSize;

fontSizeSelect.addEventListener('change', function() {
    localStorage.setItem('fontSize', this.value);
    alert('フォントサイズ設定を保存しました。ツール画面に戻ると反映されます。');
});


/* ===== スペースカウント設定の処理 ===== */
const ignoreSpacesCheckbox = document.getElementById('ignoreSpaces');
const savedIgnoreSpaces = localStorage.getItem('ignoreSpaces') === 'true'; 
ignoreSpacesCheckbox.checked = savedIgnoreSpaces;

ignoreSpacesCheckbox.addEventListener('change', function() {
    localStorage.setItem('ignoreSpaces', this.checked);
    alert('カウント設定を保存しました。ツール画面に戻ると反映されます。');
});
</script>

</body>
</html>
