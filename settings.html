<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>è¨­å®š</title>

<link rel="stylesheet" href="style.css">

<style>
/* settings.htmlå°‚ç”¨ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
body{font-family:"Noto Sans JP",system-ui,sans-serif;
max-width:500px;margin:30px auto;padding:20px}
.setting-group {
    background: var(--card);
    border-radius: 14px;
    padding: 16px;
    margin-bottom: 20px;
    border: 1px solid var(--border);
}
.setting-group h2 {
    margin-top: 0;
    font-size: 1.2em;
    border-bottom: 1px solid var(--border);
    padding-bottom: 8px;
    margin-bottom: 12px;
}
.setting-group button {
    padding: 10px 15px;
    margin-right: 8px;
    border-radius: 8px;
    border: 1px solid var(--border);
    background: var(--bg);
    color: var(--text);
    cursor: pointer;
    margin-bottom: 5px; 
}
.setting-group button:hover {
    background: var(--accent-soft);
}
.active-btn {
    background: var(--accent) !important;
    color: #fff !important;
    border: none !important;
}
.back-btn {
    display: block;
    width: 100%;
    margin-top: 20px;
    padding: 12px;
    background: var(--accent);
    color: #fff;
    font-weight: bold;
    border: none;
    text-align: center;
    text-decoration: none;
    border-radius: 8px;
}
.link-list {
    list-style: none;
    padding: 0;
}
.link-list a {
    color: var(--link);
    text-decoration: none;
    display: block;
    padding: 8px 0;
    border-bottom: 1px dashed var(--border);
}
</style>
</head>
<body data-theme="light_green"> <h1>ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š</h1>

<div class="setting-group" id="themeSettings">
    <h2>ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ãƒ¼ãƒ</h2>
    <p>ç¾åœ¨ã®è¨­å®š: <strong id="currentTheme">Light Green</strong></p>
    <button onclick="setTheme('light_green', 'Light Green')">Light Green (ç·‘)</button>
    <button onclick="setTheme('dark_blue', 'Dark Blue')">Dark Blue (ãƒ€ãƒ¼ã‚¯)</button>
    <button onclick="setTheme('modern_blue', 'Modern Blue')">Modern Blue (é’)</button>
    <button onclick="setTheme('monochrome', 'Monochrome')">Monochrome (ãƒ¢ãƒã‚¯ãƒ­)</button>
    <button onclick="setTheme('earth_tone', 'Earth Tone')">Earth Tone (èŒ¶)</button>
    <button onclick="setRandomTheme()">ğŸ’¡ãƒ©ãƒ³ãƒ€ãƒ </button>
    <p style="font-size: 0.85em; margin-top: 10px; color: #6b7280;">â€»è¨­å®šå¤‰æ›´å¾Œã€ãƒ„ãƒ¼ãƒ«ç”»é¢ã«æˆ»ã‚‹ã¨åæ˜ ã•ã‚Œã¾ã™ã€‚</p>
</div>

<div class="setting-group" id="viewModeSettings">
    <h2>è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰</h2>
    <p>ç¾åœ¨ã®è¨­å®š: <strong id="currentViewMode">PC</strong></p>
    <button id="viewSpBtn" onclick="setViewMode('sp')">ğŸ“± ã‚¹ãƒãƒ›</button>
    <button id="viewPcBtn" onclick="setViewMode('pc')">ğŸ–¥ PC</button>
</div>

<div class="setting-group" id="adsSettings">
    <h2>åºƒå‘Šè¡¨ç¤º</h2>
    <p>ç¾åœ¨ã®è¨­å®š: <strong id="currentAds">ON</strong></p>
    <button id="adsOnBtn" onclick="setAds(true)">åºƒå‘ŠON</button>
    <button id="adsOffBtn" onclick="setAds(false)">åºƒå‘ŠOFF</button>
    <p style="font-size: 0.85em; margin-top: 10px; color: #6b7280;">â€»è¨­å®šå¤‰æ›´å¾Œã€ãƒ„ãƒ¼ãƒ«ç”»é¢ã«æˆ»ã‚‹ã¨åæ˜ ã•ã‚Œã¾ã™ã€‚</p>
</div>

<div class="setting-group">
    <h2>ãã®ä»–</h2>
    <ul class="link-list">
        <li><a href="terms.html">åˆ©ç”¨è¦ç´„</a></li>
        <li><a href="terms.html#privacy">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a></li>
        <li><a href="about.html">åˆ¶ä½œè€…ç´¹ä»‹</a></li>
    </ul>
</div>

<a href="counter.html" class="back-btn">ãƒ„ãƒ¼ãƒ«ç”»é¢ã«æˆ»ã‚‹</a>

<script>
const THEMES = {
    'light_green': 'Light Green',
    'dark_blue': 'Dark Blue',
    'modern_blue': 'Modern Blue',
    'monochrome': 'Monochrome',
    'earth_tone': 'Earth Tone'
};

const currentThemeElement = document.getElementById('currentTheme');
const themeButtons = document.querySelectorAll('#themeSettings button');

const currentViewModeElement = document.getElementById('currentViewMode');
const viewSpBtn = document.getElementById('viewSpBtn');
const viewPcBtn = document.getElementById('viewPcBtn');

const currentAdsElement = document.getElementById('currentAds');
const adsOnBtn = document.getElementById('adsOnBtn');
const adsOffBtn = document.getElementById('adsOffBtn');

function loadSettings() {
    // ãƒ†ãƒ¼ãƒã®èª­ã¿è¾¼ã¿
    const theme = localStorage.getItem('theme') || 'light_green';
    updateThemeDisplay(theme);

    // è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã®èª­ã¿è¾¼ã¿
    const view = localStorage.getItem('viewMode') || 'pc';
    updateViewModeDisplay(view);

    // åºƒå‘Šè¨­å®šã®èª­ã¿è¾¼ã¿
    const showAds = localStorage.getItem('showAds') !== 'false';
    updateAdsDisplay(showAds);
}

// --- ãƒ†ãƒ¼ãƒè¨­å®šãƒ­ã‚¸ãƒƒã‚¯ ---

function updateThemeDisplay(theme) {
    const themeName = THEMES[theme] || 'Light Green';
    currentThemeElement.textContent = themeName;
    document.body.setAttribute('data-theme', theme);
    
    // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒœã‚¿ãƒ³ã®åˆ‡ã‚Šæ›¿ãˆ
    themeButtons.forEach(btn => {
        const themeKey = btn.getAttribute('onclick')?.match(/'(.*?)'/)?.[1];
        if (themeKey === theme) {
            btn.classList.add('active-btn');
        } else {
            btn.classList.remove('active-btn');
        }
    });
}

function setTheme(themeKey, themeName) {
    localStorage.setItem('theme', themeKey);
    updateThemeDisplay(themeKey);
    alert(`ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ãƒ¼ãƒã‚’ã€Œ${themeName}ã€ã«è¨­å®šã—ã¾ã—ãŸã€‚`);
}

function setRandomTheme() {
    const keys = Object.keys(THEMES);
    const randomIndex = Math.floor(Math.random() * keys.length);
    const randomKey = keys[randomIndex];
    const randomName = THEMES[randomKey];
    setTheme(randomKey, randomName);
}

// --- ãã®ä»–è¨­å®šãƒ­ã‚¸ãƒƒã‚¯ ---

function updateViewModeDisplay(view) {
    currentViewModeElement.textContent = (view === 'sp' ? 'ã‚¹ãƒãƒ›' : 'PC');
    viewSpBtn.classList.toggle('active-btn', view === 'sp');
    viewPcBtn.classList.toggle('active-btn', view === 'pc');
}

function updateAdsDisplay(showAds) {
    currentAdsElement.textContent = showAds ? 'ON' : 'OFF';
    adsOnBtn.classList.toggle('active-btn', showAds);
    adsOffBtn.classList.toggle('active-btn', !showAds);
}

function setViewMode(view) {
    localStorage.setItem('viewMode', view);
    updateViewModeDisplay(view);
    alert(`è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã‚’ã€Œ${view === 'sp' ? 'ã‚¹ãƒãƒ›' : 'PC'}ã€ã«è¨­å®šã—ã¾ã—ãŸã€‚`);
}

function setAds(show) {
    localStorage.setItem('showAds', show ? 'true' : 'false');
    updateAdsDisplay(show);
    alert(`åºƒå‘Šè¡¨ç¤ºã‚’ã€Œ${show ? 'ON' : 'OFF'}ã€ã«è¨­å®šã—ã¾ã—ãŸã€‚`);
}

window.addEventListener('load', loadSettings);
</script>

</body>
</html>
